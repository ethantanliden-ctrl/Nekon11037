<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>å‘Šç™½</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background-color: #fff8dc; /* æ·¡é»„è‰²èƒŒæ™¯ */
      font-family: "Segoe UI", "PingFang SC", sans-serif;
      overflow: hidden;
      text-align: center;
    }
    .heart {
      font-size: 5em;
      color: #ff4d6d;
      margin-bottom: 20px;
      animation: beat 1s infinite;
      z-index: 2;
    }
    @keyframes beat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    h1 {
      font-size: 2em;
      margin-bottom: 30px;
      color: #333;
      z-index: 2;
    }
    .btn {
      padding: 12px 28px;
      font-size: 1.2em;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      margin: 10px;
      transition: transform 0.2s;
      z-index: 2;
      position: relative;
    }
    .yes {
      background: #ff4d6d;
      color: #fff;
    }
    .no {
      background: #fff;
      color: #ff4d6d;
      border: 2px solid #ff4d6d;
      position: absolute;
    }
    .btn:hover {
      transform: scale(1.1);
    }
    #result {
      margin-top: 40px;
      font-size: 1.5em;
      color: #333;
      display: none;
      z-index: 2;
      animation: fadeIn 2s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      pointer-events: none;
      z-index: 1;
    }
  </style>
</head>
<body>

  <canvas id="heartsCanvas"></canvas>

  <div class="heart">â¤ï¸</div>
  <h1>ä½ å–œæ¬¢æˆ‘å—ï¼Ÿ</h1>

  <div>
    <button class="btn yes" onclick="reply(true)">å–œæ¬¢</button>
    <button class="btn no" id="noBtn">ä¸å–œæ¬¢</button>
  </div>

  <div id="result"></div>

  <!-- éšè—çš„éŸ³ä¹æ’­æ”¾å™¨ -->
  <audio id="bgMusic" loop>
    <source src="https://www.bensound.com/bensound-music/bensound-tenderness.mp3" type="audio/mp3">
    ä½ çš„æµè§ˆå™¨ä¸æ”¯æŒéŸ³é¢‘æ’­æ”¾ã€‚
  </audio>

<script>
// --- ä¸å–œæ¬¢æŒ‰é’®èº²é¿æ•ˆæœ ---
const noBtn = document.getElementById("noBtn");
noBtn.addEventListener("mouseover", () => {
  const x = Math.floor(Math.random() * (window.innerWidth - 150));
  const y = Math.floor(Math.random() * (window.innerHeight - 100));
  noBtn.style.left = x + "px";
  noBtn.style.top = y + "px";
});

// --- å–œæ¬¢æŒ‰é’®ç‚¹å‡»æ•ˆæœ ---
function reply(answer){
  const result = document.getElementById("result");
  const music = document.getElementById("bgMusic");
  music.play(); // ç”¨æˆ·ç‚¹å‡»æ—¶è§¦å‘æ’­æ”¾

  if(answer){
    result.innerHTML = "è€¶ï¼æˆ‘å°±çŸ¥é“ä½ ä¼šå–œæ¬¢æˆ‘ ğŸ’–<br>ä»ç°åœ¨å¼€å§‹ï¼Œæˆ‘ä»¬å°±æ˜¯å½¼æ­¤çš„å”¯ä¸€å•¦~ ğŸ¥°";
    result.style.display = "block";
  }
}

// --- é£˜è½çˆ±å¿ƒç‰¹æ•ˆ ---
const canvas = document.getElementById("heartsCanvas");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

let hearts = [];
function Heart(x, y, size, speed){
  this.x = x;
  this.y = y;
  this.size = size;
  this.speed = speed;
  this.opacity = Math.random()*0.5 + 0.5;
}
function drawHeart(h){
  ctx.fillStyle = `rgba(255,77,109,${h.opacity})`;
  ctx.beginPath();
  const topCurveHeight = h.size * 0.3;
  ctx.moveTo(h.x, h.y + topCurveHeight);
  ctx.bezierCurveTo(h.x, h.y, h.x - h.size / 2, h.y, h.x - h.size / 2, h.y + topCurveHeight);
  ctx.bezierCurveTo(h.x - h.size / 2, h.y + (h.size + topCurveHeight) / 2,
    h.x, h.y + (h.size + topCurveHeight) / 2,
    h.x, h.y + h.size);
  ctx.bezierCurveTo(h.x, h.y + (h.size + topCurveHeight) / 2,
    h.x + h.size / 2, h.y + (h.size + topCurveHeight) / 2,
    h.x + h.size / 2, h.y + topCurveHeight);
  ctx.bezierCurveTo(h.x + h.size / 2, h.y, h.x, h.y, h.x, h.y + topCurveHeight);
  ctx.closePath();
  ctx.fill();
}
function updateHearts(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  for(let i=0;i<hearts.length;i++){
    let h=hearts[i];
    h.y+=h.speed;
    if(h.y>canvas.height){
      hearts[i]=new Heart(Math.random()*canvas.width, -10, Math.random()*20+10, Math.random()*2+1);
    }
    drawHeart(h);
  }
  requestAnimationFrame(updateHearts);
}
function initHearts(){
  hearts=[];
  for(let i=0;i<40;i++){
    hearts.push(new Heart(Math.random()*canvas.width, Math.random()*canvas.height, Math.random()*20+10, Math.random()*2+1));
  }
  updateHearts();
}
initHearts();
window.onresize=()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;initHearts();}
</script>

</body>
</html>
